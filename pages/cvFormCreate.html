<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../asset/styles/output.css">
  <script src="https://kit.fontawesome.com/f01941449c.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <title>Document</title>
</head>

<body>

  <header class="h-16 w-100 bg-blue-700 flex justify-center items-center ">
    <h1 class="text-2xl text-white">Build Your CV </h1>
  </header>

  <main class="flex justify-center items-center">
    <div class="liba" id="liba" >

    </div>
   <div id="formSteppers" class="w-50 min-h-screen flex items-center justify-center">
      <div class="container mx-auto p-4 relative bg-white rounded-lg shadow ">
        <div class="bg-white rounded-lg shadow-lg p-6 md:p-10 max-w-3xl mx-auto">
          <h1 class="text-3xl font-bold text-center mb-8">CV Builder Steps</h1>

          <!-- Progress Bar -->
          <div class="mb-11">
            <div class="flex justify-between mb-2">
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200"
                id="step1">
                <i class="fa-solid fa-user"></i>              
              </span>
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step2">
                step2
              </span>
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step3">
                step3
              </span>
              <span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step4">
                <i class="fas fa-language"></i>
              </span><span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step5">
                step5
              </span><span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step6">
                step6
              </span><span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step7">
                <i class="fa-solid fa-briefcase"></i>
              </span><span
                class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-green-200 opacity-50"
                id="step8">
                <i class="fas fa-certificate"></i>
              </span>
            </div>
            <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-green-200">
              <div id="progress-bar"
                class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500 w-1/3 transition-all duration-500 ease-in-out">
              </div>
            </div>
          </div>

          <!-- Form Steps -->
          <form id="multi-step-form">

            <!-- Step 1: Personal Information -->
            <div id="step-1" class="step flex flex-col justify-center">
              <div class="relative w-full mb-10">
                <input type="file" id="img" class="mb-6">
              </div>
              <div class="">
                <label for="fullName" class="block mb-2 text-sm font-medium text-gray-900">Full Name</label>
                <input type="text" id="fullName"
                  class="bg-gray-50 border m-14 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
              <div class="mb-6">
                <label for="email" class="block mb-2 text-sm font-medium text-gray-900">Email Address</label>
                <input type="email" id="email"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>

              <div class="mb-6">
                <label for="phone" class="block mb-2 text-sm font-medium text-gray-900">Phone Number</label>
                <input type="tel" id="phone"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
              <div class="mb-6">
                <label for="address" class="block mb-2 text-sm font-medium text-gray-900">Address</label>
                <input type="tel" id="address"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>

              <div class="mb-6">
                <label for="LinkedIn" class="block mb-2 text-sm font-medium text-gray-900">LinkedIn</label>
                <input type="text" id="LinkedIn"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
              <div class="mb-6">
                <label for="GitHub" class="block mb-2 text-sm font-medium text-gray-900">GitHub</label>
                <input type="text" id="GitHub"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
              <div class="mb-6">
                <label for="portfolio" class="block mb-2 text-sm font-medium text-gray-900">portfolio</label>
                <input type="url" id="portfolio"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
            </div>
            <!-- Step 2: info Details -->
            <div id="step-2" class="step hidden">
              <h2>Détails professionnels</h2>
              <div class="mb-6">
                <label for="titre" class="block mb-2 text-sm font-medium text-gray-900">titre</label>
                <input type="text" id="titre"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  required>
              </div>
              <div class="mb-6">
                <label for="textarea" class="block mb-2 text-sm font-medium text-gray-900">résumé de profil</label>
                <textarea name="textarea"
                  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                  id="textarea" required></textarea>
              </div>
            </div> 
            <!-- Step 3: Compétences techniques et soft skills-->
            <div id="step-3" class="step hidden">
              <h2>Compétences techniques et soft skills</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="hardSkills" class="ml-2 text-sm font-medium text-gray-900">hard-skills</label>
                  <div id="hardSkillsDiv" class="flex-col gap-40 ">
                    <input type="text" id="hardSkills"
                      class="hardS bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
                <h2></h2>
                <div class="flex-col items-center">
                  <label for="softSkills" class="ml-2 text-sm font-medium text-gray-900">soft-skills</label>
                  <div class="flex items-center">
                    <input type="text" id="softSkills"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                      required><button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>

            </div>
            <!-- Step 4: Langues
            <!-- <div id="step-4" class="step hidden">
              <h2>Langues</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="langues" class="ml-2 text-sm font-medium text-gray-900">Langues</label>
                  <div class="flex gap-40 ">
                    <input type="text" id="langues"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full  p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>
            </div> -->
            <!-- Step 5: Loisirs et intérêts -->
            <!-- <div id="step-5" class="step hidden">
              <h2>Loisirs et intérêts</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="loisirs" class="ml-2 text-sm font-medium text-gray-900">Loisirs et intérêts</label>
                  <div class="flex gap-40 ">
                    <input type="text" id="loisirs"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full  p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>
            </div> -->
            <!-- Step 6: Cursus universitaire -->
            <!-- <div id="step-6" class="step hidden">
              <h2>Cursus universitaire</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="CursusUniversitaire" class="ml-2 text-sm font-medium text-gray-900">Cursus
                    Universitaire</label>
                  <div class="flex gap-40 ">
                    <input type="text" id="CursusUniversitaire"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full  p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>
            </div> -->
            <!-- Step 7: Expériences professionnelles -->
            <!-- <div id="step-7" class="step hidden">
              <h2>Expériences professionnelles</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="Experiences" class="ml-2 text-sm font-medium text-gray-900">Expériences
                    professionnelles</label>
                  <div class="flex gap-40 ">
                    <input type="text" id="Experiences"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full  p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>
            </div> -->
            <!-- Step 8: Certifications -->
            <!-- <div id="step-8" class="step hidden">
              <h2>Certifications</h2>
              <div class="mb-6">
                <div class="flex-col items-center mb-4">
                  <label for="Certifications" class="ml-2 text-sm font-medium text-gray-900">Certifications</label>
                  <div class="flex gap-40 ">
                    <input type="text" id="Certifications"
                      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full  p-2.5"
                      required> <button><i class="fa-solid fa-circle-plus"></i></button>
                  </div>
                </div>
              </div>
            </div> -->

            <div class="flex justify-between mt-8">
              <button type="button" id="prevBtn"
                class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 focus:outline-none focus:shadow-outline none">Previous</button>
              <button type="button" id="nextBtn"
                class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:shadow-outline">Next</button>
              <button type="submit" id="submitBtn"
                class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:shadow-outline hidden">Submit</button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </main>


  <script>

let currentStep = 1;
let prevBtn = document.getElementById("prevBtn");
let nextBtn = document.getElementById("nextBtn");
let inputdynamicForm = document.getElementById("inputdynamicForm");
let steps = document.getElementsByClassName("step");
let form = document.getElementById('multi-step-form');
let submitBtn = document.getElementById('submitBtn');
let progressBar = document.getElementById('progress-bar');
// let fullName=document.getElementById("fullName").value;
// let email=document.getElementById("email").value;
// let phone=document.getElementById("phone").value;
// let address=document.getElementById("address").value;
// let LinkedIn=document.getElementById("LinkedIn").value;
// let GitHub=document.getElementById("GitHub").value;
// let portfolio=document.getElementById("portfolio").value;
// let img = document.getElementById("img").value;





// submitBtn.addEventListener("click",function(e){
//   e.preventDefault();

//   const cvBuilderinfo={
//     fullName,
//     email,
//     phone,
//     address,
//     LinkedIn,
//     GitHub,
//     portfolio,
    
//   }

//   const infos = JSON.parse(localStorage.getItem("infos")) || [];
//   infos.push(cvBuilderinfo);
//   localStorage.setItem("infos",JSON.stringify(infos));


// });


    
////// multistepper
function showStep(step) {
  document.querySelectorAll('.step').forEach(s => s.classList.add('hidden'));
  document.getElementById(`step-${step}`).classList.remove('hidden');

  progressBar.style.width = `${(step / 8) * 100}%`;
  for (let i = 1; i <= steps.length; i++) {
    const stepIndicator = document.getElementById(`step${i}`);
    if (i <= step) {
      stepIndicator.classList.remove('opacity-50');
    } else {
      stepIndicator.classList.add('opacity-50');
    }
  }

  prevBtn.classList.toggle('hidden', step === 1);
  nextBtn.classList.toggle('hidden', step === 3);
  submitBtn.classList.toggle('hidden', step !== 3);
}

nextBtn.addEventListener('click', () => {
  currentStep++;
  showStep(currentStep);
});

prevBtn.addEventListener('click', () => {
  currentStep--;
  showStep(currentStep);
});


///// form 
form.addEventListener("submit", (e) => {
  e.preventDefault();
  let fullName=document.getElementById("fullName").value;
let email=document.getElementById("email").value;
let phone=document.getElementById("phone").value;
let address=document.getElementById("address").value;
let LinkedIn=document.getElementById("LinkedIn").value;
let GitHub=document.getElementById("GitHub").value;
let portfolio=document.getElementById("portfolio").value;
let title=document.getElementById("titre").value;
let textarea=document.getElementById("textarea").value;
let hardS = document.getElementsByClassName("hardS").value;

let stepThreeInfo = [];

const hardSkillsDiv = document.getElementById("hardSkillsDiv").getElementsByTagName('input');

Array.from(hardSkillsDiv).forEach((item) => stepThreeInfo.push(item.value));


console.log(stepThreeInfo);


  const cvBuilderinfo = 
  {
    fullName,
    email,
    phone,
    address,
    LinkedIn,
    GitHub,
    portfolio,
    title,
    textarea,
    stepThreeInfo  
  }
  
  const data = JSON.parse(localStorage.getItem("data")) || [];
  data.push(cvBuilderinfo);
  localStorage.setItem("data",JSON.stringify(data));

  Swal.fire({
      title: 'Form submitted successfully!!',
      icon: 'success',
      confirmButtonText: 'Nice!'
    });
});

showStep(currentStep);


//////////// ajouter nouveau input dynamic form
document.querySelectorAll('.fa-circle-plus').forEach(button => {
  button.addEventListener('click', function (e) {
    e.preventDefault();
    const input = document.createElement('input');
    input.type = 'text';
    input.classList.add('hardS','bg-gray-50', 'border', 'border-gray-300', 'text-gray-900', 'text-sm', 'rounded-lg', 'focus:ring-green-500', 'focus:border-green-500', 'block', 'w-full', 'p-2.5');
    this.parentElement.parentElement.appendChild(input);
  });
});
  
  
  
function displayCv(){
  const data = JSON.parse(localStorage.getItem("data")) || [];
  let liba =document.getElementById("liba");
  data.forEach((dt,index)=>{

    liba.innerHTML = `
    
    
    
    
    
    `;
  })
}
  </script>




  <!-- <script src="/asset/scripts/script.js"></script> -->
</body>

</html>